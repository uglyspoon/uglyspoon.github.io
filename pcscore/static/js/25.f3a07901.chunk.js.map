{"version":3,"sources":["containers/pmscore/record/components/Dropzone.tsx","assets/xls.svg","assets/xlsx.svg","assets/trash.svg"],"names":["Dropzone","_ref","saveFile","_useState","useState","_useState2","Object","_Users_spoon_WWW_dabai_antd_demo_ts_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","files","setFiles","onDrop","useCallback","acceptedFiles","map","file","name","lastModified","_useDropzone","useDropzone","getRootProps","getInputProps","onClickDelete","_ref2","_Users_spoon_WWW_dabai_antd_demo_ts_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_spoon_WWW_dabai_antd_demo_ts_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","e","wrap","_context","prev","next","stop","_x","apply","this","arguments","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","className","styles","container","length","item","idx","key","src","XLSX","alt","TRASH","style","width","cursor","data-index","onClick","XLS","marginTop","module","exports","__webpack_require__","p"],"mappings":"4OAmDeA,UAxCf,SAAAC,GAAkE,IAA9CC,EAA8CD,EAA9CC,SAA8CC,EACtCC,mBAAqB,IADiBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACzDK,EADyDH,EAAA,GAClDI,EADkDJ,EAAA,GAE1DK,EAASC,sBAAY,SAAAC,GACzBH,EAASG,EAAcC,IAAI,SAACC,GAAD,MAAqB,CAC9CC,KAAMD,EAAKC,KACXC,aAAcF,EAAKE,iBAErBd,EAASU,EAAc,KACtB,CAACV,IAR4De,EAU1BC,YAAY,CAACR,WAA5CS,EAVyDF,EAUzDE,aAAcC,EAV2CH,EAU3CG,cAEfC,EAAa,eAAAC,EAAAhB,OAAAiB,EAAA,EAAAjB,CAAAkB,EAAAC,EAAAC,KAAG,SAAAC,EAAOC,GAAP,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACpBvB,EAAS,IADW,wBAAAqB,EAAAG,SAAAN,MAAH,gBAAAO,GAAA,OAAAZ,EAAAa,MAAAC,KAAAC,YAAA,GAGnB,OACEC,EAAAb,EAAAc,cAAA,WAASC,UAAWC,IAAOC,WAEvBlC,EAAMmC,OACJL,EAAAb,EAAAc,cAAA,OAAKC,UAAU,YACZhC,EAAMK,IAAI,SAAC+B,EAAMC,GAChB,OAAOP,EAAAb,EAAAc,cAAA,OAAKO,IAAKF,EAAK5B,aAAcwB,UAAU,kBAC5CF,EAAAb,EAAAc,cAAA,WACED,EAAAb,EAAAc,cAAA,OAAKQ,IAAKC,IAAMC,IAAI,KACpBX,EAAAb,EAAAc,cAAA,QAAMC,UAAU,cAAcI,EAAK7B,OAErCuB,EAAAb,EAAAc,cAAA,OAAKQ,IAAKG,IAAOD,IAAI,GAAGE,MAAO,CAAEC,MAAO,GAAIC,OAAQ,WAAaC,aAAYT,EAAKU,QAASlC,QAIjGiB,EAAAb,EAAAc,cAAA,MAASpB,EAAa,CAACqB,UAAW,aAChCF,EAAAb,EAAAc,cAAA,QAAWnB,KACXkB,EAAAb,EAAAc,cAAA,OAAKQ,IAAKS,IAAKP,IAAI,GAAGE,MAAO,CAACC,MAAM,MACpCd,EAAAb,EAAAc,cAAA,MAAIY,MAAO,CAACM,UAAW,KAAvB,iEAAwCnB,EAAAb,EAAAc,cAAA,sCACxCD,EAAAb,EAAAc,cAAA,gJC7CZmB,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/25.f3a07901.chunk.js","sourcesContent":["import React, {useCallback,useState } from 'react'\nimport {useDropzone} from 'react-dropzone'\nimport styles from './Dropzone.less'\nimport XLS from 'assets/xls.svg';\nimport XLSX from 'assets/xlsx.svg';\nimport TRASH from 'assets/trash.svg';\n\ntype fileType = {\n  name: string;\n  lastModified: number;\n}\nfunction Dropzone({ saveFile }: {saveFile: (file: File) => void}) {\n  const [files, setFiles] = useState<fileType[]>([]);\n  const onDrop = useCallback(acceptedFiles => {\n    setFiles(acceptedFiles.map((file:fileType ) => ({\n      name: file.name,\n      lastModified: file.lastModified,\n    })))\n    saveFile(acceptedFiles[0])\n  }, [saveFile])\n\n  const {getRootProps, getInputProps} = useDropzone({onDrop});\n\n  const onClickDelete = async (e: any) => {\n    setFiles([])\n  }\n  return (\n    <section className={styles.container}>\n      {\n        files.length ?\n          <div className='dropzone'>\n            {files.map((item, idx) => {\n              return <div key={item.lastModified} className=\"file-container\">\n                <div>\n                  <img src={XLSX} alt=\"\" />\n                  <span className=\"file-title\">{item.name}</span>\n                </div>\n                <img src={TRASH} alt=\"\" style={{ width: 20, cursor: 'pointer' }} data-index={idx} onClick={onClickDelete}/>\n              </div>\n            })}\n          </div> :\n          <div {...getRootProps({className: 'dropzone'})}>\n            <input {...getInputProps()} />\n            <img src={XLS} alt=\"\" style={{width:60}}/>\n            <h1 style={{marginTop: 20}}>将模版拖拽至此区域 或 <a>点击上传</a></h1>\n            <span>仅限制上传10M以下xls或xlsx格式文件</span>\n          </div>\n      }\n    </section>\n  );\n}\nexport default Dropzone;\n","module.exports = __webpack_public_path__ + \"static/media/xls.e3b573bf.svg\";","module.exports = __webpack_public_path__ + \"static/media/xlsx.99625958.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.3d4303e4.svg\";"],"sourceRoot":""}