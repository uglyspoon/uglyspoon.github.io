<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>新建文档</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Le styles -->
  <link href="./assets/bootstrap2/bootstrap.min.css" rel="stylesheet">
  <link href="./assets/bootstrap2/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="./assets/css/base.css" rel="stylesheet">
  <link href="./assets/css/header.css" rel="stylesheet">
  <link href="./assets/css/mission.css" rel="stylesheet">
</head>

<body>
  <header>
    <img src="./assets/image/logo.png" alt="">
  </header>
  <div class="container-fluid">
    <div class="row-fluid">
      <div class="sidebar open-sider">
        <div class="logo-wrapper  flex-center-center">
          <img src="./assets/image/mission-logo.svg" alt="">
        </div>

        <ul class="none-style-list sider-menulist">
          <span class="sub-nav f14">项目任务</span>
          <li class="active">
            <div>
              我的签到
              <img src="./assets/icon/arrow_up.svg" alt="" class="arrow">
            </div>
            <ul>
              <li>
                <img src="./assets/icon/doing.svg" alt="">
                进行中的任务
                <span>8</span>
              </li>
              <li>
                <img src="./assets/icon/editing.svg" alt="">
                编辑中的任务
                <span>5</span>
              </li>
              <li>
                <img src="./assets/icon/to-upload.svg" alt="">
                待发布的任务
                <span>5</span>
              </li>
              <li>
                <img src="./assets/icon/to-close.svg" alt="">
                待关闭的任务
                <span>5</span>
              </li>
              <li>
                <img src="./assets/icon/closed.svg" alt="">
                年度已关闭的任务
                <span>65</span>
              </li>
              <li>
                <img src="./assets/icon/all-closed.svg" alt="">
                全部已关闭的任务
                <span>800</span>
              </li>
            </ul>
          </li>
          <li>
            <div>
              团队任务
              <img src="./assets/icon/arrow_right.svg" alt="" class="arrow">
            </div>
            <ul style="display: none">
              <li>
                <img src="./assets/icon/doing.svg" alt="">
                进行中的任务
                <span>8</span>
              </li>
              <li>
                <img src="./assets/icon/editing.svg" alt="">
                编辑中的任务
                <span>5</span>
              </li>
            </ul>
          </li>
          <span class="sub-nav f14">其他任务</span>
          <li>
            <div>
              我的任务
              <img src="./assets/icon/arrow_right.svg" alt="" class="arrow">
            </div>
            <ul style="display: none">
              <li>
                <img src="./assets/icon/doing.svg" alt="">
                进行中的任务
                <span>8</span>
              </li>
              <li>
                <img src="./assets/icon/editing.svg" alt="">
                编辑中的任务
                <span>5</span>
              </li>
            </ul>
          </li>
          <li>
            <div>
              团队任务
              <img src="./assets/icon/arrow_right.svg" alt="" class="arrow">
            </div>
            <ul style="display: none">
              <li>
                <img src="./assets/icon/doing.svg" alt="">
                进行中的任务
                <span>8</span>
              </li>
              <li>
                <img src="./assets/icon/editing.svg" alt="">
                编辑中的任务
                <span>5</span>
              </li>
            </ul>
          </li>
        </ul>
        <div class="toggle-sidebar">
          <img src="./assets/icon/left-arrow.svg" alt="">
        </div>
      </div>
      <div class="main-content">
        <div class="control-bar" style="display: none;">
          <div>
            <img src="./assets/icon/control.svg" alt="">
            <span class="title">项目控制工作流</span>
            <span class="desc">当前已添加任务</span>
            <span class="number">1</span>
          </div>
          <div>
            <button class="btn-cancel">取消</button>
            <button class="btn-save">全部保存</button>
            <button class="btn-submit">全部提交</button>
          </div>
        </div>
        <!--Body content-->
        <div class="welcome-box">
          <div>
            <div class="jump-link" data-target="/"><img src="./assets/icon/home.svg" alt="">返回首页</div>
            <input type="text" id="sreach-bar" placeholder="输入“项目编号/项目名称/任务编号/任务名称/项目经理/执行人”等条件查询" name="sreach-bar">
            <button class="btn-query-green">搜索</button>
          </div>
        </div>
        <main class="main-new">
          <p class="title">创建新任务</p>
          <section class="form-wrapper">
            <div class="form-item">
              <label>所属项目</label>
              <input type="text" placeholder="请选择所属项目" name="project">
            </div>
            <form id="myForm">
              <div class="step-indicator">
                <div>
                  <img src="./assets/icon/xmkz.svg" alt="">
                  <span>项目控制</span>
                </div>
                <hr>
                <div>
                  <img src="./assets/icon/xmqd.svg" alt="">
                  <span>项目启动</span>
                </div>
                <hr>
                <div>
                  <img src="./assets/icon/sszb.svg" alt="">
                  <span>实施准备</span>
                </div>
                <hr>
                <div>
                  <img src="./assets/icon/azpz.svg" alt="">
                  <span>安装配置</span>
                </div>
                <hr>

                <div>
                  <img src="./assets/icon/cssx.svg" alt="">
                  <span>测试上线</span>
                </div>
                <hr>

                <div>
                  <img src="./assets/icon/gbxm.svg" alt="">
                  <span>知识转移</span>
                </div>
                <hr>
                <div>
                  <img src="./assets/icon/zszy.svg" alt="">
                  <span>关闭项目</span>
                </div>
              </div>
              <div class="summary">
                <div>
                  <div>
                    <p>开始时间</p>
                    <span>未获取</span>
                  </div>
                  <div>
                    <p>结束时间</p>
                    <span>未获取</span>
                  </div>
                  <div>
                    <p>执行人</p>
                    <span>未获取</span>
                  </div>
                </div>
                <div>
                  <div>
                    <p>工作量</p>
                    <span>未获取</span>
                  </div>
                  <div>
                    <p>状态</p>
                    <span>新建</span>
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">

                <div class="span4">
                  <div class="form-item">
                    <span>工作流</span>
                    <div class="c-dropdown js-dropdown">
                      <input type="hidden" name="workflow" id="Framework" class="js-dropdown__input" value="ember">
                      <span class="c-button c-button--dropdown js-dropdown__current">项目控制</span>
                      <ul class="c-dropdown__list">
                        <li class="c-dropdown__item" data-dropdown-value="angular">项目控制1</li>
                        <li class="c-dropdown__item" data-dropdown-value="backbone">项目控制2</li>
                        <li class="c-dropdown__item" data-dropdown-value="ember">项目控制3</li>
                        <li class="c-dropdown__item" data-dropdown-value="knockout">项目控制4</li>
                        <li class="c-dropdown__item" data-dropdown-value="react">项目控制5</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="span3 offset5 delete-group">
                  <img src="./assets/icon/delete.svg" alt="">
                  <span>删除当前工作流</span>
                  <img src="./assets/icon/warning.svg" alt="">
                </div>
              </div>
              <div class="row-fluid mt20" style="position: relative; display: flex;">
                <div class="task-label">
                  <span>任务1</span>
                  <img src="./assets/icon/arrow-down-round.svg" alt="">
                </div>
                <div class="span4" style="margin-left: 0px;">
                  <div class="form-item">
                    <span>任务类型</span>
                    <div class="c-dropdown js-dropdown">
                      <input type="hidden" name="tasktype" id="Framework" class="js-dropdown__input" value="ember">
                      <span class="c-button c-button--dropdown js-dropdown__current">任务类型</span>
                      <ul class="c-dropdown__list">
                        <li class="c-dropdown__item" data-dropdown-value="angular">任务类型1</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="span4 ">
                  <div class="form-item">
                    <span>任务名称</span>
                    <input type="text" value="变更管理会议" class="nb" name="taskname">
                  </div>
                </div>
                <div class="span4">
                  <div class="form-item">
                    <span>计划工时</span>
                    <input type="text" value="4" name="plantime">
                    <span>小时</span>
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">
                <div class="span6">
                  <div class="form-item">
                    <span>计划开始时间</span>
                    <input type="text" value="2019-10-21" class="rili" name="planstart">
                  </div>
                </div>
                <div class="span6">
                  <div class="form-item">
                    <span>计划结束时间</span>
                    <input type="text" value="2019-10-22" class="rili" name="planend">
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">
                <div class="span12">
                  <div class="form-item">
                    <span>服务地点</span>
                    <input type="text" value="重庆市渝中区中山一路218号" name="serlocation">
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">
                <div class="span6">
                  <div class="form-item">
                    <span>所属团队</span>
                    <input type="text" placeholder="请选择所属团队" name="groupbelong">
                  </div>

                </div>
                <div class="span6">
                  <div class="form-item">
                    <span>执行团队</span>
                    <input type="text" placeholder="请选择执行团队" name="groupexcute">
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">
                <div class="span12">
                  <div class="form-item">
                    <span>执行人</span>
                    <input type="text" placeholder="请选择执行人" name="excutor">
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">
                <div class="span6">
                  <div class="form-item">
                    <span>厂商标签</span>
                    <div class="c-dropdown js-dropdown">
                      <input type="hidden" name="Framework" id="Framework" class="js-dropdown__input" value="angular">
                      <span class="c-button c-button--dropdown js-dropdown__current">厂商标签</span>
                      <ul class="c-dropdown__list">
                        <li class="c-dropdown__item" data-dropdown-value="angular">厂商标签1</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="span6">
                  <div class="form-item">
                    <span>技术标签</span>
                    <div class="c-dropdown js-dropdown">
                      <input type="hidden" name="Framework" id="Framework" class="js-dropdown__input" value="angular">
                      <span class="c-button c-button--dropdown js-dropdown__current">技术标签</span>
                      <ul class="c-dropdown__list">
                        <li class="c-dropdown__item" data-dropdown-value="angular">技术标签1</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20">
                <div class="span12">
                  <div class="form-item ">
                    <span>任务描述</span>
                    <textarea type="text" placeholder="请输入任务描述" class="nb" name="description"></textarea>
                  </div>
                </div>
              </div>
              <div class="row-fluid mt20 mission-btn-box">
                <span class="btn-save">保存</span>
                <span class="btn-submit">增加任务</span>
              </div>
            </form>

          </section>
        </main>
      </div>
      <div class="blocker" style="display:none;">

        <div class="error-box">
          <p class="title"> 提示信息</p>
          <p class="content">
            您需要输入全部必填信息才可以提交任务，进入审核阶段
          </p>
          <span class="btn-save"> 知道了</span>
        </div>
      </div>
    </div>
  </div>
  <script src="./assets/js/jquery-1.11.1.min.js"></script>
  <script src="./assets/js/select.js"></script>
  <script>
    $(function () {
      $('ul.sider-menulist>li>div').click(function () {
        $(this).parent('li').find('ul').toggle()
        var arrow_icon = $(this).find('img').last();
        if (arrow_icon.attr('src').indexOf('right') !== -1) {
          arrow_icon.attr('src', arrow_icon.attr('src').replace('right', 'up'))
        } else {
          arrow_icon.attr('src', arrow_icon.attr('src').replace('up', 'right'))
        }
      })
      $('.jump-link').click(function () {
        var target = $(this).data('target')
        window.location.href = target
      })
      $('.toggle-sidebar').hover(function () {
        var src = $(this).find('img').attr('src').split('.svg')
        src.push('-w', '.svg')
        src = src.join('')
        $(this).find('img').attr('src', src)
        $('.sidebar').addClass('active')
      }, function () {
        $(this).find('img').attr('src', $(this).find('img').attr('src').replace('-w', ''))
        $('.sidebar').removeClass('active')
      })
      $('.toggle-sidebar').click(function () {
        if ($('.sidebar').hasClass('close-sider')) {
          $('.sidebar').addClass('open-sider')
          $('.sidebar').removeClass('close-sider')

        } else {
          $('.sidebar').addClass('close-sider')
          $('.sidebar').removeClass('open-sider')
        }
        var origin = $(this).find('img').attr('src')
        var src = origin.indexOf('right') === -1 ? origin.replace('left', 'right') : origin.replace('right',
          'left')
        $(this).find('img').attr('src', src)
      })

      $('.mission-btn-box .btn-save').click(function () {
        // var values = {};
        // $.each($('#myForm').serializeArray(), function(i, field) {
        //   values[field.name] = field.value;
        // });

        var $inputs = $('#myForm :input');

        // not sure if you wanted this, but I thought I'd add it.
        // get an associative array of just the values.
        var values = {};
        $inputs.each(function () {
          values[this.name] = $(this).val();
          if (!$(this).val()) {
            $(this).parents('.form-item').children('span').addClass('error')
            $('.blocker').show()
          }
        });
        console.log(values)
      })
      $('.error-box .btn-save').click(function () {
        $('.blocker').hide()
      })

      $('.mission-btn-box .btn-submit').click(function () {
        $('.control-bar').show()
      })
    })
  </script>
</body>

</html>